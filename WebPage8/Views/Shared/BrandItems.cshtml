@model ComputerViewModel

@{
    ViewBag.Title = "Computer Web Shop | Brand Items";
    Layout = "~/Views/Shared/_Layout.cshtml";
    //int brandId = ViewBag.Id;
}

@section headerSection {
    @Html.Partial("_LayoutHeader")

}
<link href="@Url.Content("~/styles/slider.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/bootstrap-slider.js")"></script>
<style>

    .board {
        background-color: white;
        color: #524757;
        height: 100%;
        padding: 10px;
    }
       </style>
<section>
    <div class="container">
        <div class="col-md-4 col-sm-4">
            <div class="seller-leftbox text-center">
                <b>Kr 2000</b> <input id="ex2" type="text" class="span2" value="" data-slider-min="500" data-slider-max="50000" data-slider-step="5" data-slider-value="[3000,15000]" /> <b>Kr 50000</b>
                
            </div>
        </div>

        <div class="col-md-8 col-sm-8  no-padding">
            @*<div class="col-md-12 col-sm-6 no-padding" >
                <div class="col-md-4  no-padding">
                        <div class="board"><h1 class="h1-responsive" style="color:white" id="txtBrandName">@Model.Search</h1></div>
                </div>               
            </div>*@
            <div class="row product-container" id="showComputerInCategory">
                @foreach (Computer computer in Model.Computers)
                {
                    <div class="col-lg-6 col-sm-8">
                        <div class="hpanel">
                            <div class="panel-body no-padding poluritm">
                                <div class="entry-thumbnailsmall" style="cursor:pointer;">
                                    <a asp-controller="Product" asp-action="Detail" asp-route-ComputerId="@computer.ComputerId">
                                        <img src="@computer.ImageUrl" class="img-responsive">
                                    </a>
                                </div>
                                <div class="p-sm productdetail">
                                    <h5>@computer.Processor</h5>
                                    <div class="row" style="padding-left: 0px !important;">
                                        <div class="col-md-5">
                                            <h3 class="no-margins text-success"> @computer.Price Kr</h3>
                                        </div>
                                        <div class="col-md-7">
                                            <a asp-controller="Product" asp-action="Detail" asp-route-ComputerId="@computer.ComputerId">
                                                <button type="button" class="btn btn-success btn-sm pull-right">Köp</button>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>

        </div>
    </div>
</section>
<script>
    $(document).ready(function () {
        document.querySelector("div.seller-leftbox.text-center")
            .addEventListener("mouseup", () => {
            const [min, max] = document.querySelector("div.tooltip-inner")
                .innerHTML
                .split(":")
                .map(Number);

            console.log(min, max);
            const category = window.location.search.split("=")[1];
            console.log(category);

        //filter by price

            $.ajax({
                type: "GET",
                url: `Search/?min=${min}&max=${max}&category=${category}`,
                success: function (output) {
                    console.log(output);
                    document.getElementById("showComputerInCategory").innerHTML = output;

                }
            })            
        })
        $("#ex2").slider({});


        @*switch (@brandId) {
            case 1:
                $("#txtBrandName").text("Acer");
                break;
            case 2:
                $("#txtBrandName").text("Samsung");
                break;
            case 3:
                $("#txtBrandName").text("Lenovo");
                break;
            case 4:
                $("#txtBrandName").text("HP");
                break;
            case 5:
                $("#txtBrandName").text("Dell");
                break;
            case 6:
                $("#txtBrandName").text("Asus");
                break;
            default:
                $("#txtBrandName").text("Dell");
        }*@
    });


</script>